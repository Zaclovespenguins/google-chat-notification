<!DOCTYPE html>
<html>
<head>
    <title>Redirecting...</title>
</head>
<body>
    <p>Opening in GitHub Desktop...</p>

    <script>
        const params = new URLSearchParams(window.location.search);
        const repoUrl = params.get('repo');

        if (repoUrl) {
            // Construct the deep link
            const deepLink = `x-github-client://openRepo/${repoUrl}`;
            
            // Perform the redirect
            window.location.href = deepLink;

            // Optional: Close tab after a delay
            setTimeout(() => { window.close(); }, 1000);
        } else {
            document.body.innerHTML = "No repository URL provided.";
        }
    </script>
</body>
</html>
